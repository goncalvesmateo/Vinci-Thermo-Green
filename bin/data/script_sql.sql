-- Script SQL Vinci Thermo Green

DROP TABLE IF EXISTS Measures;
DROP TABLE IF EXISTS Stadium;
DROP TABLE IF EXISTS User;

CREATE TABLE User (
    id INT AUTO_INCREMENT NOT NULL,
    login VARCHAR(30) NOT NULL,
    password VARCHAR(255) NOT NULL,
    CONSTRAINT PK_User PRIMARY KEY(id)
);

CREATE TABLE Stadium (
    id INT AUTO_INCREMENT NOT NULL,
    name VARCHAR(50),
    user_id INT NOT NULL,
    CONSTRAINT PK_Stadium PRIMARY KEY(id),
    CONSTRAINT FK_User_Stadium FOREIGN KEY(user_id) REFERENCES User(id)
);

CREATE TABLE Measures (
    id INT AUTO_INCREMENT NOT NULL,
    zone INT,
    date_measure VARCHAR(16),
    temperature DECIMAL (3,1),
    CONSTRAINT PK_Measures PRIMARY KEY(id)
);

INSERT INTO User (login, password) VALUES
    ("Pierre", "$2a$12$BFahOdxHet5ZXfiggU8Md.TtvJXteV0FVu.fqKOAddSGqzreYogoK"), -- Plain text : P@ssw0rd
    ("Jean", "$2a$12$3i0ZpzmGQ8ZKDWRQtArvkeUSUgf1tMz07AcU5jQ50O8ykw9noZ3AC")    -- Plain text : password
;

INSERT INTO Stadium (name, user_id) VALUES
    ("01", 1),
    ("02", 2),
    ("03", 1),
    ("04", 2)
;

INSERT INTO Measures (zone, date_measure, temperature) VALUES
    (1,'2016-01-01 00:00',53.0),
    (2,'2016-01-01 00:00',53.0),
    (3,'2016-01-01 00:00',53.1),
    (4,'2016-01-01 00:00',53.2),
    (1,'2016-01-01 01:00',52.9),
    (2,'2016-01-01 01:00',52.8),
    (3,'2016-01-01 01:00',53.2),
    (4,'2016-01-01 01:00',53.2),
    (1,'2016-01-01 02:00',52.8),
    (2,'2016-01-01 02:00',52.7),
    (3,'2016-01-01 02:00',53.2),
    (4,'2016-01-01 02:00',53.1),
    (1,'2016-01-01 03:00',52.7),
    (2,'2016-01-01 03:00',52.5),
    (3,'2016-01-01 03:00',53.1),
    (4,'2016-01-01 03:00',53.0),
    (1,'2016-01-01 04:00',52.6),
    (2,'2016-01-01 04:00',52.3),
    (3,'2016-01-01 04:00',53.1),
    (4,'2016-01-01 04:00',53.0),
    (1,'2016-01-01 05:00',52.5),
    (2,'2016-01-01 05:00',52.0),
    (3,'2016-01-01 05:00',53.1),
    (4,'2016-01-01 05:00',52.9),
    (1,'2016-01-01 06:00',52.4),
    (2,'2016-01-01 06:00',51.8),
    (3,'2016-01-01 06:00',53.0),
    (4,'2016-01-01 06:00',52.9),
    (1,'2016-01-01 07:00',52.4),
    (2,'2016-01-01 07:00',51.7),
    (3,'2016-01-01 07:00',53.0),
    (4,'2016-01-01 07:00',52.9),
    (1,'2016-01-01 08:00',52.4),
    (2,'2016-01-01 08:00',51.7),
    (3,'2016-01-01 08:00',53.0),
    (4,'2016-01-01 08:00',52.9),
    (1,'2016-01-01 09:00',52.5),
    (2,'2016-01-01 09:00',51.8),
    (3,'2016-01-01 09:00',53.1),
    (4,'2016-01-01 09:00',53.0),
    (1,'2016-01-01 10:00',52.6),
    (2,'2016-01-01 10:00',51.9),
    (3,'2016-01-01 10:00',53.2),
    (4,'2016-01-01 10:00',53.1),
    (1,'2016-01-01 11:00',52.7),
    (2,'2016-01-01 11:00',52.0),
    (3,'2016-01-01 11:00',53.4),
    (4,'2016-01-01 11:00',53.2),
    (1,'2016-01-01 12:00',52.8),
    (2,'2016-01-01 12:00',52.1),
    (3,'2016-01-01 12:00',53.5),
    (4,'2016-01-01 12:00',53.4),
    (1,'2016-01-01 13:00',52.9),
    (2,'2016-01-01 13:00',52.3),
    (3,'2016-01-01 13:00',53.5),
    (4,'2016-01-01 13:00',53.7),
    (1,'2016-01-01 14:00',53.0),
    (2,'2016-01-01 14:00',52.5),
    (3,'2016-01-01 14:00',53.5),
    (4,'2016-01-01 14:00',53.9),
    (1,'2016-01-01 15:00',53.1),
    (2,'2016-01-01 15:00',52.7),
    (3,'2016-01-01 15:00',53.5),
    (4,'2016-01-01 15:00',54.0),
    (1,'2016-01-01 16:00',53.1),
    (2,'2016-01-01 16:00',52.8),
    (3,'2016-01-01 16:00',53.5),
    (4,'2016-01-01 16:00',54.1),
    (1,'2016-01-01 17:00',53.1),
    (2,'2016-01-01 17:00',53.1),
    (3,'2016-01-01 17:00',53.4),
    (4,'2016-01-01 17:00',54.0),
    (1,'2016-01-01 18:00',53.1),
    (2,'2016-01-01 18:00',53.1),
    (3,'2016-01-01 18:00',53.4),
    (4,'2016-01-01 18:00',53.9),
    (1,'2016-01-01 19:00',53.1),
    (2,'2016-01-01 19:00',53.1),
    (3,'2016-01-01 19:00',53.3),
    (4,'2016-01-01 19:00',53.8),
    (1,'2016-01-01 20:00',53.1),
    (2,'2016-01-01 20:00',53.1),
    (3,'2016-01-01 20:00',53.2),
    (4,'2016-01-01 20:00',53.7),
    (1,'2016-01-01 21:00',53.1),
    (2,'2016-01-01 21:00',53.1),
    (3,'2016-01-01 21:00',53.1),
    (4,'2016-01-01 21:00',53.5),
    (1,'2016-01-01 22:00',53.1),
    (2,'2016-01-01 22:00',53.1),
    (3,'2016-01-01 22:00',53.1),
    (4,'2016-01-01 22:00',53.3),
    (1,'2016-01-01 23:00',53.1),
    (2,'2016-01-01 23:00',53.1),
    (3,'2016-01-01 23:00',53.1),
    (4,'2016-01-01 23:00',53.1)
;